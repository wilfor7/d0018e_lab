<!doctype html>
<html>
    <head>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
        <!-- Title -->
        {% if title %}
            <title>{{ title }}</title>
        {% else %}
            <title>D0018E Lab</title>
        {% endif %}
    </head>
    <body>
        <!-- Navigation bar -->
        <header>
            <div class="container">
                <h1 class="logo"><a class="logo_link" href="/"> Computers & Hardware & Stuff </a></h1>
                {% if not user %}
                    <form method="POST" class="navbar_login">
                        <input type="text" name="email" placeholder="Email">
                        <input type="password" name="password" placeholder="Password">
                        <input type="submit" value="Login">
                    </form>
                    <a id="register_link" href={{ url_for("register") }}>Register</a>
                {% else %}
                     <p id="greeting">
                        Hi {{ user.first_name }} {{ user.last_name }}
                     </p>
                    <a id="mypage_link" href={{ url_for("my_page") }}>My Page</a>
                    <a id="cart_link" href={{ url_for("shopping_cart") }}>Kundvagn</a>
                    <form id="logout" action="" method="post" >
                        <input type="submit" value="Logout">
                    </form>
                {% endif %}
                {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <ul>
                        {% for message in messages %}
                        <li>{{ message }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                {% endwith %}
            </div>
        </header>
        <!-- Content -->
        <div class="container">
            {% block content %} {% endblock content %}
        </div>
    </body>
</html>